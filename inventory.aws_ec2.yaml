plugin: amazon.aws.aws_ec2
regions:
  - us-east-1

keyed_groups:
  - key: tags.Name
    prefix: aws
    separator: "_"

filters:
  tag:Name: frontend
  instance-state-name: running   # correct key, not "instance.state.name"

hostnames:
  - private-ip-address            # correct spelling, use dashes not underscores

compose:
  ansible_host: private-ip-address
